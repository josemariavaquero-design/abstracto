<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Abstract Art Prompt Generator (v1.9 - Pantone Pro)</title>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="192x192" href="/icon-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/icon-512x512.png">
<style>
  /* Base Style Adaptation */
  :root{
    --bg1:#2a1111;
    --bg2:#3d1a1a;
    --card:#321515;
    --ink:#fdf3f3;
    --muted:#e0caca;
    --accent:#e64c4c;
    --accent-rgb: 230, 76, 76;
    --accent2:#b03a3a;
    --accent3:#ff6b6b;
    --ring: rgba(255,100,100,.25);
    --ring-strong: rgba(255,100,100,.35);
    --success:#5bc0de;
    --danger:#ff6b6b;
    --warning:#ffc107;
    --transition: all 0.3s ease;
  }
  *{box-sizing:border-box;margin:0;padding:0;}
  body{
    margin:0; color:var(--ink);
    font:16px/1.5 'Inter','Segoe UI',Roboto,Helvetica,Arial,sans-serif;
    background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%);
    background-attachment: fixed;
  }
  .wrap{max-width:900px;margin:40px auto;padding:0 20px}
  
  /* Header & Lang Switcher */
  header { position: relative; margin-bottom: 20px; }
  h1{margin:0 0 8px;text-align:center;font-size:2.3rem;letter-spacing:.2px}
  p.lead{margin:0 0 28px;text-align:center;color:var(--muted);font-size:.9rem}
  
  .lang-switch {
    position: absolute; top: 0; right: 0;
    background: rgba(0,0,0,0.4); border: 1px solid var(--ring);
    color: var(--ink); padding: 5px 12px; border-radius: 20px;
    cursor: pointer; font-size: 0.85rem; font-weight: bold;
    transition: var(--transition);
  }
  .lang-switch:hover { background: var(--accent2); }

  .card{
    background: var(--card);
    border:1px solid var(--ring);
    border-radius:18px; padding:18px; margin-bottom:16px;
    backdrop-filter: blur(6px);
    box-shadow:0 8px 32px rgba(0,0,0,.35);
  }
  .card h2{
    font-size:1.12rem; margin:0 0 10px;
    padding-bottom:8px; border-bottom:1px dashed var(--ring);
    letter-spacing:.2px
  }
  .btns{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px;justify-content:center}
  button{
    border:none;border-radius:999px;padding:10px 18px;
    font-size:0.9rem;font-weight:600;color:#fff;cursor:pointer;
    transition:transform .18s ease, box-shadow .18s ease, filter .18s ease;
    box-shadow:0 6px 20px rgba(0,0,0,.28);
    outline:none; position:relative; overflow:hidden;
    display:inline-flex;align-items:center;gap:6px;
  }
  button.primary{background:linear-gradient(90deg,var(--accent),var(--accent3));}
  button.secondary{background:rgba(255,255,255,.08);color:var(--ink);}
  button.fav-btn{background:var(--accent2); color:white;}
  button.fav-btn.active{background:var(--accent); color:white;}
  button:hover{transform:translateY(-1px);filter:brightness(1.05);}
  button:active{transform:translateY(1px);box-shadow:0 3px 12px rgba(0,0,0,.35);}
  .grid{display:grid;gap:10px;grid-template-columns:repeat(3,1fr);}
  @media(max-width:800px){.grid{grid-template-columns:1fr 1fr}}
  @media(max-width:600px){.grid{grid-template-columns:1fr}}
  
  label{display:block;font-size:.86rem;margin-bottom:3px;color:var(--muted);}
  select,input[type="number"]{
    width:100%;padding:8px 10px;border-radius:8px;
    border:1px solid var(--ring-strong);
    background:rgba(0,0,0,.35);color:var(--ink);font-size:.9rem;
  }
  
  /* Output Box */
  .hint{font-size:.88rem;color:var(--muted); margin-bottom:5px; text-align: center;}
  .out{
    background:rgba(0,0,0,.45); border:1px solid var(--ring);
    border-radius:12px;padding:14px;min-height:96px;cursor:pointer;white-space:pre-wrap;
    transition:var(--transition);position:relative;font-size:.9rem; margin-top: 10px;
  }
  .out:hover{border-color:var(--ring-strong);background:rgba(0,0,0,.55);}
  
  .copy-notification{
    position:fixed;top:20px;right:20px;background:var(--success);color:white;
    padding:10px 20px;border-radius:10px;z-index:1000;
    animation:fadeOut 2s forwards;box-shadow:0 10px 30px rgba(0,0,0,.3)
  }
  @keyframes fadeOut{0%{opacity:1}70%{opacity:1}100%{opacity:0}}

  /* Styles for Favorites and Image Upload */
  .favorites-list{display:grid;gap:15px;margin-top:15px;}
  .fav-item{
    background:var(--bg1); border:1px solid var(--ring);
    border-radius:12px;padding:10px;
    display:flex;align-items:flex-start;gap:10px;
    box-shadow:0 4px 15px rgba(0,0,0,.2);
    position:relative;
  }
  .fav-item-image{
    width:80px;height:80px;object-fit:cover;border-radius:8px;
    flex-shrink:0; border:1px solid var(--ring-strong);
  }
  .fav-item-content{flex-grow:1;}
  .fav-item-content p{
    font-size:.85rem;color:var(--muted);
    margin-bottom:5px;max-height:60px;overflow:hidden;
    text-overflow:ellipsis;
    display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;
  }
  .fav-item-content .prompt-text{color:var(--ink); font-weight:500;}
  .fav-item .fav-actions{display:flex; gap:5px;position:absolute; bottom:8px; right:8px;}
  .fav-item .fav-actions button{
    padding:6px 10px; font-size:.8rem; box-shadow:none; transform:none;
    background:var(--accent2); opacity:0;
    transition:opacity 0.2s ease, background 0.2s ease;
  }
  .fav-item:hover .fav-actions button{opacity:1;}
  .fav-item .fav-actions button:hover{background:var(--accent);}
  .fav-item .fav-actions button.delete-fav{background:var(--danger);opacity:0.8;}
  .fav-item .fav-actions button.delete-fav:hover{background:#ff4747;}
  
  .drop-zone {
    border: 2px dashed var(--ring-strong); border-radius: 12px;
    padding: 20px; text-align: center; color: var(--muted);
    font-size: 1rem; cursor: pointer; transition: all 0.3s ease; margin-top: 15px;
  }
  .drop-zone:hover, .drop-zone.dragover {
    background: rgba(var(--accent-rgb), 0.1); border-color: var(--accent); color: var(--ink);
  }
  .drop-zone input[type="file"] {display: none;}
  .uploaded-image-preview {
    max-width: 100%; height: auto; max-height: 200px;
    display: block; margin: 10px auto; border-radius: 8px; border: 1px solid var(--ring);
  }
  .no-favorites{color:var(--muted); text-align:center; font-style: italic; padding:10px 0;}

  /* Color Palette Preview */
  .color-swatch-container { display: flex; gap: 2px; height: 36px; margin-top: 5px; width: 100%; }
  .color-swatch {
      flex-grow: 1; height: 100%; border-radius: 2px;
      border: 1px solid rgba(0, 0, 0, 0.3); 
      box-shadow: inset 0 0 2px rgba(255, 255, 255, 0.1);
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
      <button id="langToggle" class="lang-switch">üá™üá∏ ESPA√ëOL</button>
      <h1 data-key="title">Abstract Art Prompt Generator</h1>
      <p class="lead" data-key="subtitle">Shapes, Colors, and 2D Abstraction Styles (v1.9 - Pantone Pro)</p>
  </header>

  <div class="card">
    <h2 data-key="resultsTitle">Results</h2>
    <div class="btns">
      <button class="primary" id="btnRand"><span data-key="btnRandom">üé≤ Randomize</span></button>
      <button class="secondary" id="btnReset"><span data-key="btnReset">üßπ Reset</span></button>
      <button class="primary" id="btnGen"><span data-key="btnGenerate">‚ú® Generate Prompt</span></button>
      <button class="fav-btn" id="btnFav"><span id="favIcon">‚≠ê</span> <span data-key="btnSave">Save Prompt</span></button>
    </div>
    
    <div> 
        <div class="hint" id="outLabel">PROMPT (CLICK TO COPY ENGLISH)</div> 
        <div class="out" id="outMain">Initializing...</div> 
    </div>
  </div>

  <div class="card">
    <h2 data-key="secColor">Colors & Palette (Pantone)</h2>
    <div class="grid">
      <div style="grid-column: span 3;">
        <label for="cPaleta" data-key="lblPalette">Select Palette (30 Sets)</label>
        <select id="cPaleta"></select>
      </div>
      <div><label for="cDistrib" data-key="lblDistrib">Distribution</label><select id="cDistrib"></select></div>
      <div><label for="cLum" data-key="lblLum">Luminosity/Tone</label><select id="cLum"></select></div>
      <div style="grid-column: span 1;"></div>
      <div style="grid-column: span 3; margin-top: 0px;">
          <label data-key="lblPreview">Palette Preview (10 Colors)</label>
          <div id="palettePreview" class="color-swatch-container"></div>
      </div>
    </div>
  </div>

  <div class="card">
    <h2 data-key="uploadTitle">Save Image & Prompt</h2>
    <div class="hint" data-key="uploadHint">
      If you generated an image with the current prompt, upload it here.
    </div>
    <div id="dropZone" class="drop-zone">
        <span data-key="dropText">Drag & drop your image here or click to select.</span><br>
        <input type="file" id="imageUpload" accept="image/*">
    </div>
    <img id="imagePreview" class="uploaded-image-preview" style="display:none;">
    <button class="primary" id="btnSaveWithImage" style="width:100%; margin-top:10px; display:none;">
      <span data-key="btnSaveWithImg">üíæ Save Prompt & Image</span>
    </button>
  </div>

  <div class="card">
    <h2 data-key="secGeo">Geometry & Pattern</h2>
    <div class="grid">
      <div><label for="aForma" data-key="lblShape">Base Shapes</label><select id="aForma"></select></div>
      <div><label for="aPatron" data-key="lblPattern">Pattern/Arrangement</label><select id="aPatron"></select></div>
      <div><label for="aTamano" data-key="lblSize">Size Variation</label><select id="aTamano"></select></div>
      <div><label for="aDisp" data-key="lblDisp">Disposition/Order</label><select id="aDisp"></select></div>
      <div><label for="aBorde" data-key="lblEdge">Edges/Outlines</label><select id="aBorde"></select></div>
      <div><label for="aDistor" data-key="lblDistort">Distortion</label><select id="aDistor"></select></div>
      <div><label for="aCount" data-key="lblDensity">Density (1-10)</label><input type="number" id="aCount" min="1" max="10" step="1"></div>
    </div>
  </div>

  <div class="card">
    <h2 data-key="secStyle">Style, Technique & Artist</h2>
    <div class="grid">
      <div><label for="eEstilo" data-key="lblStyle">Main Style</label><select id="eEstilo"></select></div>
      <div><label for="eTecnica" data-key="lblTech">Technique (Paint)</label><select id="eTecnica"></select></div>
      <div><label for="eArtista" data-key="lblArtist">Inspired by</label><select id="eArtista"></select></div>
      <div><label for="eOrigen" data-key="lblOrigin">Conceptual Origin</label><select id="eOrigen"></select></div>
    </div>
  </div>

  <div class="card">
    <h2 data-key="secFinish">Composition & Finish</h2>
    <div class="grid">
      <div><label for="fComp" data-key="lblComp">Composition</label><select id="fComp"></select></div>
      <div><label for="fTextura" data-key="lblTexture">Canvas Texture</label><select id="fTextura"></select></div>
      <div><label for="fAcabado" data-key="lblFinish">Final Finish</select><select id="fAcabado"></select></div>
      <div><label for="fRes" data-key="lblRes">Resolution/Detail</label><select id="fRes"></select></div>
    </div>
  </div>

  <div class="card">
    <h2 data-key="secLight">Lighting & Atmosphere</h2>
    <div class="grid">
      <div><label for="iLum" data-key="lblLight">Lighting Type</label><select id="iLum"></select></div>
      <div><label for="iAngulo" data-key="lblAngle">Lighting Angle (¬∫)</label><input type="number" id="iAngulo" min="0" max="360" step="1"></div>
      <div style="grid-column: span 1;"></div> 
    </div>
  </div>
  <div class="card">
    <h2><span data-key="secFav">Saved Prompts</span> <span id="favCount">(0)</span></h2>
    <div id="favoritesList" class="favorites-list">
      <p class="no-favorites" id="noFavoritesMsg" data-key="noFav">
        No saved prompts yet.
      </p>
    </div>
  </div>

</div>
<div id="copyNotification" class="copy-notification" style="display:none;"></div>

<script>
  // --- UI STRINGS ---
  const UI_STRINGS = {
    title: { en: "Abstract Art Prompt Generator", es: "Generador de Prompts de Arte Abstracto" },
    subtitle: { en: "Shapes, Colors, and 2D Abstraction Styles (v1.9 - Pantone Pro)", es: "Figuras, Colores y Estilos de Abstracci√≥n 2D (v1.9 - Pantone Pro)" },
    resultsTitle: { en: "Results", es: "Resultados" },
    btnRandom: { en: "üé≤ Randomize", es: "üé≤ Aleatorio" },
    btnReset: { en: "üßπ Reset", es: "üßπ Resetear" },
    btnGenerate: { en: "‚ú® Generate Prompt", es: "‚ú® Generar Prompt" },
    btnSave: { en: "Save Prompt", es: "Guardar Prompt" },
    outLabel: { en: "PROMPT (CLICK TO COPY ENGLISH)", es: "PROMPT (CLIC PARA COPIAR INGL√âS)" },
    uploadTitle: { en: "Save Image & Prompt", es: "Guardar Imagen y Prompt" },
    uploadHint: { en: "If you generated an image with the current prompt, upload it here to save it together.", es: "Si has generado una imagen con el prompt actual, s√∫bela aqu√≠ para guardarla junto al prompt." },
    dropText: { en: "Drag & drop your image here or click to select.", es: "Arrastra y suelta tu imagen aqu√≠ o haz clic para seleccionarla." },
    btnSaveWithImg: { en: "üíæ Save Prompt & Image", es: "üíæ Guardar Prompt e Imagen" },
    secGeo: { en: "Geometry & Pattern", es: "Geometr√≠a y Patr√≥n" },
    lblShape: { en: "Base Shapes", es: "Formas Base" },
    lblPattern: { en: "Pattern/Arrangement", es: "Patr√≥n/Arreglo" },
    lblSize: { en: "Size Variation", es: "Variaci√≥n de Tama√±o" },
    lblDisp: { en: "Disposition/Order", es: "Disposici√≥n/Orden" },
    lblEdge: { en: "Edges/Outlines", es: "Bordes/Contornos" },
    lblDistort: { en: "Distortion", es: "Distorsi√≥n" },
    lblDensity: { en: "Density (1-10)", es: "Densidad (1-10)" },
    secColor: { en: "Colors & Palette (Pantone)", es: "Colores y Paleta (Pantone)" },
    lblPalette: { en: "Color Palette", es: "Paleta de Color" },
    lblDistrib: { en: "Distribution", es: "Distribuci√≥n de Color" },
    lblLum: { en: "Luminosity/Tone", es: "Luminosidad/Tono" },
    lblPreview: { en: "Palette Preview (10 Colors)", es: "Previsualizaci√≥n (10 Colores)" },
    secStyle: { en: "Style, Technique & Artist", es: "Estilo, T√©cnica y Artista" },
    lblStyle: { en: "Main Style", es: "Estilo Principal" },
    lblTech: { en: "Technique (Paint)", es: "T√©cnica (Pintura)" },
    lblArtist: { en: "Inspired by", es: "Inspirado en" },
    lblOrigin: { en: "Conceptual Origin", es: "Origen Conceptual" },
    secFinish: { en: "Composition & Finish", es: "Composici√≥n y Acabado" },
    lblComp: { en: "Composition", es: "Composici√≥n General" },
    lblTexture: { en: "Canvas Texture", es: "Textura del Lienzo" },
    lblFinish: { en: "Final Finish", es: "Acabado Final" },
    lblRes: { en: "Resolution/Detail", es: "Resoluci√≥n/Detalle" },
    secLight: { en: "Lighting & Atmosphere", es: "Iluminaci√≥n y Ambiente" },
    lblLight: { en: "Lighting Type", es: "Tipo de Iluminaci√≥n" },
    lblAngle: { en: "Lighting Angle (¬∫)", es: "√Ångulo de Iluminaci√≥n (¬∫)" },
    secFav: { en: "Saved Prompts", es: "Prompts Guardados" },
    noFav: { en: "No saved prompts yet.", es: "No hay prompts guardados a√∫n." },
    copyMsg: { en: "üìã English Prompt Copied!", es: "üìã ¬°Prompt en Ingl√©s Copiado!" },
    langBtn: { en: "üá™üá∏ ESPA√ëOL", es: "üá∫üá∏ ENGLISH" }
  };

  // --- 30 PANTONE PALETTES DATA ---
  const CPaleta = [
    {id:'none', es:'Ninguno/Al Azar', en:'None/Random', colors_es:'', colors_en:''},
    {id:'p1', es:'1. Atardecer Cibern√©tico', en:'1. Cyber Sunset', 
     colors_es: 'Pantone 219 C (Rosa intenso), Pantone 2151 C (Magenta p√∫rpura), Pantone 2196 C (Azul oscuro digital), Pantone 2145 C (Azul el√©ctrico), Pantone 2263 C (Turquesa fr√≠o), Pantone 2270 C (Verde ne√≥n), Pantone 123 C (Amarillo c√°lido), Pantone 172 C (Naranja vivo), Pantone 7625 C (Coral fuerte), Pantone Black 6 C (Negro profundo)',
     colors_en: 'Pantone 219 C (Hot Pink), Pantone 2151 C (Magenta Purple), Pantone 2196 C (Dark Digital Blue), Pantone 2145 C (Electric Blue), Pantone 2263 C (Cold Turquoise), Pantone 2270 C (Neon Green), Pantone 123 C (Warm Yellow), Pantone 172 C (Vivid Orange), Pantone 7625 C (Strong Coral), Pantone Black 6 C (Deep Black)'},
    {id:'p2', es:'2. Alba Mediterr√°nea', en:'2. Mediterranean Dawn',
     colors_es: 'Pantone 2003 C (Naranja suave), Pantone 7406 C (Amarillo arena), Pantone 1205 C (Crema c√°lido), Pantone 7548 C (Amarillo sol), Pantone 2026 C (Coral melocot√≥n), Pantone 7416 C (Salm√≥n), Pantone 2336 C (Azul cielo), Pantone 2177 C (Azul mar), Pantone 321 C (Turquesa marino), Pantone 560 C (Verde oscuro)',
     colors_en: 'Pantone 2003 C (Soft Orange), Pantone 7406 C (Sand Yellow), Pantone 1205 C (Warm Cream), Pantone 7548 C (Sun Yellow), Pantone 2026 C (Peach Coral), Pantone 7416 C (Salmon), Pantone 2336 C (Sky Blue), Pantone 2177 C (Sea Blue), Pantone 321 C (Marine Turquoise), Pantone 560 C (Dark Green)'},
    {id:'p3', es:'3. Ne√≥n Subterr√°neo', en:'3. Underground Neon',
     colors_es: 'Pantone 802 C (Verde ne√≥n), Pantone 806 C (Magenta fluorescente), Pantone 807 C (Rosa p√∫rpura ne√≥n), Pantone 801 C (Azul fluorescente), Pantone 123 C (Amarillo vibrante), Pantone 1655 C (Naranja intenso), Pantone 226 C (Magenta puro), Pantone 2935 C (Cobalto), Pantone 355 C (Verde hierba intenso), Pantone Neutral Black C (Negro base)',
     colors_en: 'Pantone 802 C (Neon Green), Pantone 806 C (Fluorescent Magenta), Pantone 807 C (Neon Purple Pink), Pantone 801 C (Fluorescent Blue), Pantone 123 C (Vibrant Yellow), Pantone 1655 C (Intense Orange), Pantone 226 C (Pure Magenta), Pantone 2935 C (Cobalt), Pantone 355 C (Intense Grass Green), Pantone Neutral Black C (Base Black)'},
    {id:'p4', es:'4. Bosque H√∫medo Profundo', en:'4. Deep Humid Forest',
     colors_es: 'Pantone 5545 C (Verde gris√°ceo), Pantone 5605 C (Verde musgo), Pantone 5535 C (Verde bosque), Pantone 5747 C (Verde oliva apagado), Pantone 7763 C (Oliva c√°lido), Pantone 371 C (Verde tierra), Pantone 7567 C (Marr√≥n arcilla), Pantone 7554 C (Marr√≥n profundo), Pantone 7497 C (Caqui gris√°ceo), Pantone 7498 C (Musgo oscuro)',
     colors_en: 'Pantone 5545 C (Grayish Green), Pantone 5605 C (Moss Green), Pantone 5535 C (Forest Green), Pantone 5747 C (Muted Olive Green), Pantone 7763 C (Warm Olive), Pantone 371 C (Earth Green), Pantone 7567 C (Clay Brown), Pantone 7554 C (Deep Brown), Pantone 7497 C (Grayish Khaki), Pantone 7498 C (Dark Moss)'},
    {id:'p5', es:'5. Retro 80s Pastel-Tech', en:'5. Retro 80s Pastel-Tech',
     colors_es: 'Pantone 3242 C (Menta pastel), Pantone 708 C (Rosa chicle claro), Pantone 7605 C (Coral pastel), Pantone 602 C (Amarillo pastel suave), Pantone 2727 C (Azul pastel saturado), Pantone 290 C (Azul hielo), Pantone 244 C (Lila rosa), Pantone 2567 C (Lila fr√≠o), Pantone 310 C (Cian pastel), Pantone Cool Gray 4 C (Gris fr√≠o suave)',
     colors_en: 'Pantone 3242 C (Pastel Mint), Pantone 708 C (Light Bubblegum Pink), Pantone 7605 C (Pastel Coral), Pantone 602 C (Soft Pastel Yellow), Pantone 2727 C (Saturated Pastel Blue), Pantone 290 C (Ice Blue), Pantone 244 C (Pink Lilac), Pantone 2567 C (Cold Lilac), Pantone 310 C (Pastel Cyan), Pantone Cool Gray 4 C (Soft Cool Gray)'},
    {id:'p6', es:'6. Tierra Vulc√°nica', en:'6. Volcanic Earth',
     colors_es: 'Pantone 7596 C (Rojo √≥xido), Pantone 7608 C (Rojo quemado), Pantone 470 C (Tierra tostada), Pantone 168 C (Marr√≥n volc√°nico), Pantone 7519 C (Chocolate profundo), Pantone 7568 C (Cobre apagado), Pantone 1385 C (Naranja caldera), Pantone 1615 C (Teja oscura), Pantone 7517 C (Terracota), Pantone 419 C (Negro volc√°nico)',
     colors_en: 'Pantone 7596 C (Rust Red), Pantone 7608 C (Burnt Red), Pantone 470 C (Toasted Earth), Pantone 168 C (Volcanic Brown), Pantone 7519 C (Deep Chocolate), Pantone 7568 C (Muted Copper), Pantone 1385 C (Boiler Orange), Pantone 1615 C (Dark Tile), Pantone 7517 C (Terracotta), Pantone 419 C (Volcanic Black)'},
    {id:'p7', es:'7. Polar Minimalista', en:'7. Minimalist Polar',
     colors_es: 'Pantone 7541 C (Blanco gris√°ceo), Pantone 656 C (Azul hielo tenue), Pantone 5523 C (Azul gris pastel), Pantone 538 C (Gris helado), Pantone 2905 C (Azul claro puro), Pantone 2176 C (Azul acero), Pantone 5415 C (Azul polar), Pantone 7543 C (Gris neutro suave), Pantone 445 C (Gris profundo), Pantone Black 7 C (Negro fr√≠o mate)',
     colors_en: 'Pantone 7541 C (Grayish White), Pantone 656 C (Faint Ice Blue), Pantone 5523 C (Pastel Gray Blue), Pantone 538 C (Icy Gray), Pantone 2905 C (Pure Light Blue), Pantone 2176 C (Steel Blue), Pantone 5415 C (Polar Blue), Pantone 7543 C (Soft Neutral Gray), Pantone 445 C (Deep Gray), Pantone Black 7 C (Matte Cold Black)'},
    {id:'p8', es:'8. Aurora Boreal', en:'8. Aurora Borealis',
     colors_es: 'Pantone 3395 C (Verde brillante), Pantone 3262 C (Turquesa), Pantone 322 C (Verde azulado profundo), Pantone 2736 C (Azul p√∫rpura), Pantone 267 C (Violeta saturado), Pantone 2602 C (P√∫rpura el√©ctrico), Pantone 2385 C (Magenta fr√≠o), Pantone 7488 C (Verde luz), Pantone 3278 C (Turquesa ne√≥n), Pantone 273 C (Violeta noche)',
     colors_en: 'Pantone 3395 C (Bright Green), Pantone 3262 C (Turquoise), Pantone 322 C (Deep Teal), Pantone 2736 C (Purple Blue), Pantone 267 C (Saturated Violet), Pantone 2602 C (Electric Purple), Pantone 2385 C (Cold Magenta), Pantone 7488 C (Light Green), Pantone 3278 C (Neon Turquoise), Pantone 273 C (Night Violet)'},
    {id:'p9', es:'9. Barroco Elegante', en:'9. Elegant Baroque',
     colors_es: 'Pantone 871 C (Dorado met√°lico), Pantone 7527 C (Crema gris), Pantone 2309 C (Gris piedra c√°lido), Pantone 7503 C (Topo elegante), Pantone 7531 C (Marr√≥n gris√°ceo), Pantone 432 C (Gris carb√≥n), Pantone 5535 C (Verde botella profundo), Pantone 2735 C (Violeta real), Pantone 7623 C (Rojo vino), Pantone 419 C (Negro noche)',
     colors_en: 'Pantone 871 C (Metallic Gold), Pantone 7527 C (Gray Cream), Pantone 2309 C (Warm Stone Gray), Pantone 7503 C (Elegant Taupe), Pantone 7531 C (Grayish Brown), Pantone 432 C (Charcoal Gray), Pantone 5535 C (Deep Bottle Green), Pantone 2735 C (Royal Violet), Pantone 7623 C (Wine Red), Pantone 419 C (Night Black)'},
    {id:'p10', es:'10. Caribe Saturado', en:'10. Saturated Caribbean',
     colors_es: 'Pantone 3268 C (Turquesa saturado), Pantone 312 C (Cian tropical), Pantone 299 C (Azul vibrante), Pantone 3145 C (Azul oc√©ano), Pantone 7579 C (Coral intenso), Pantone 7415 C (Melocot√≥n suave), Pantone 7408 C (Amarillo sol vibrante), Pantone 2254 C (Verde lima), Pantone 7737 C (Verde tropical), Pantone 2757 C (Azul profundo)',
     colors_en: 'Pantone 3268 C (Saturated Turquoise), Pantone 312 C (Tropical Cyan), Pantone 299 C (Vibrant Blue), Pantone 3145 C (Ocean Blue), Pantone 7579 C (Intense Coral), Pantone 7415 C (Soft Peach), Pantone 7408 C (Vibrant Sun Yellow), Pantone 2254 C (Lime Green), Pantone 7737 C (Tropical Green), Pantone 2757 C (Deep Blue)'},
    {id:'p11', es:'11. Monocromo Absoluto (Grises)', en:'11. Absolute Monochrome (Greys)',
     colors_es: 'Pantone Cool Gray 1 C a 9 C + Black 6 C', colors_en: 'Pantone Cool Gray 1 C to 9 C + Black 6 C (Full Grey Scale)'},
    {id:'p12', es:'12. Fuego Primario (Rojos)', en:'12. Primary Fire (Reds)',
     colors_es: 'Gama completa de Rojos Pantone (1787 C, 1788 C, 186 C, 1785 C, 485 C, 7625 C, 7626 C, 7627 C, 7628 C, 1815 C)', colors_en: 'Full range of Pantone Reds (1787 C, 1788 C, 186 C, 1785 C, 485 C, 7625 C, 7626 C, 7627 C, 7628 C, 1815 C)'},
    {id:'p13', es:'13. Profundidad Oce√°nica (Azules)', en:'13. Ocean Depth (Blues)',
     colors_es: 'Gama completa de Azules Pantone (290 C, 291 C, 292 C, 300 C, 301 C, 302 C, 2176 C, 541 C, 540 C, 5395 C)', colors_en: 'Full range of Pantone Blues (290 C, 291 C, 292 C, 300 C, 301 C, 302 C, 2176 C, 541 C, 540 C, 5395 C)'},
    {id:'p14', es:'14. Selva Vertical (Verdes)', en:'14. Vertical Jungle (Greens)',
     colors_es: 'Gama completa de Verdes Pantone (358 C, 360 C, 361 C, 362 C, 363 C, 364 C, 355 C, 7484 C, 7736 C, 350 C)', colors_en: 'Full range of Pantone Greens (358 C, 360 C, 361 C, 362 C, 363 C, 364 C, 355 C, 7484 C, 7736 C, 350 C)'},
    {id:'p15', es:'15. Solar Extendido (Amarillos)', en:'15. Extended Solar (Yellows)',
     colors_es: 'Gama completa de Amarillos Pantone (393 C, 394 C, 395 C, 396 C, 7406 C, 7548 C, 123 C, 115 C, 109 C, 7408 C)', colors_en: 'Full range of Pantone Yellows (393 C, 394 C, 395 C, 396 C, 7406 C, 7548 C, 123 C, 115 C, 109 C, 7408 C)'},
    {id:'p16', es:'16. Violeta Din√°mico', en:'16. Dynamic Violet', colors_es:'Pantone 2562 C, 2572 C, 2582 C, 2592 C, 2602 C, 2612 C, 2623 C, 2685 C, 2735 C, 2765 C', colors_en:'Pantone 2562 C, 2572 C, 2582 C, 2592 C, 2602 C, 2612 C, 2623 C, 2685 C, 2735 C, 2765 C'},
    {id:'p17', es:'17. Arena & Piedra', en:'17. Sand & Stone', colors_es:'Pantone 7401 C, 4685 C, 468 C, 4655 C, 7514 C, 465 C, 728 C, 730 C, 465 C, 7503 C', colors_en:'Pantone 7401 C, 4685 C, 468 C, 4655 C, 7514 C, 465 C, 728 C, 730 C, 465 C, 7503 C'},
    {id:'p18', es:'18. Blueprint Digital', en:'18. Digital Blueprint', colors_es:'Pantone 2177 C, 2132 C, 2194 C, 2196 C, 2133 C, 2154 C, 2383 C, 7693 C, 2145 C, 295 C', colors_en:'Pantone 2177 C, 2132 C, 2194 C, 2196 C, 2133 C, 2154 C, 2383 C, 7693 C, 2145 C, 295 C'},
    {id:'p19', es:'19. Menta Industrial', en:'19. Industrial Mint', colors_es:'Pantone 3242 C, 3252 C, 3262 C, 3272 C, 3282 C, 3292 C, 7710 C, 7712 C, 7714 C, 7716 C', colors_en:'Pantone 3242 C, 3252 C, 3262 C, 3272 C, 3282 C, 3292 C, 7710 C, 7712 C, 7714 C, 7716 C'},
    {id:'p20', es:'20. C√≠trico Exagerado', en:'20. Exaggerated Citrus', colors_es:'Pantone 1375 C, 1385 C, 1505 C, 1525 C, 1655 C, 1665 C, 172 C, 173 C, 174 C, 7579 C', colors_en:'Pantone 1375 C, 1385 C, 1505 C, 1525 C, 1655 C, 1665 C, 172 C, 173 C, 174 C, 7579 C'},
    {id:'p21', es:'21. Arcilla Antigua', en:'21. Ancient Clay', colors_es:'Pantone 728 C, 729 C, 730 C, 7525 C, 7526 C, 7517 C, 7519 C, 168 C, 1615 C, 7596 C', colors_en:'Pantone 728 C, 729 C, 730 C, 7525 C, 7526 C, 7517 C, 7519 C, 168 C, 1615 C, 7596 C'},
    {id:'p22', es:'22. Metal Mate Moderno', en:'22. Modern Matte Metal', colors_es:'Pantone 7534 C, 7535 C, 7536 C, 445 C, 446 C, 447 C, 418 C, 440 C, 7533 C, Black 7 C', colors_en:'Pantone 7534 C, 7535 C, 7536 C, 445 C, 446 C, 447 C, 418 C, 440 C, 7533 C, Black 7 C'},
    {id:'p23', es:'23. Sorbet Minimal', en:'23. Minimal Sorbet', colors_es:'Pantone 705 C, 706 C, 707 C, 708 C, 7401 C, 7402 C, 7403 C, 628 C, 629 C, 630 C', colors_en:'Pantone 705 C, 706 C, 707 C, 708 C, 7401 C, 7402 C, 7403 C, 628 C, 629 C, 630 C'},
    {id:'p24', es:'24. Vintage Sunset', en:'24. Vintage Sunset', colors_es:'Pantone 150 C, 151 C, 152 C, 153 C, 154 C, 155 C, 7581 C, 7582 C, 7583 C, 7584 C', colors_en:'Pantone 150 C, 151 C, 152 C, 153 C, 154 C, 155 C, 7581 C, 7582 C, 7583 C, 7584 C'},
    {id:'p25', es:'25. Fr√≠o Tecnol√≥gico', en:'25. Technological Cold', colors_es:'Pantone 290 C, 2905 C, 291 C, 2915 C, 292 C, 2925 C, 293 C, 2935 C, 294 C, 2945 C', colors_en:'Pantone 290 C, 2905 C, 291 C, 2915 C, 292 C, 2925 C, 293 C, 2935 C, 294 C, 2945 C'},
    {id:'p26', es:'26. Cielos de Tormenta', en:'26. Stormy Skies', colors_es:'Pantone 5493 C, 5497 C, 541 C, 542 C, 543 C, 544 C, 545 C, 546 C, 547 C, 548 C', colors_en:'Pantone 5493 C, 5497 C, 541 C, 542 C, 543 C, 544 C, 545 C, 546 C, 547 C, 548 C'},
    {id:'p27', es:'27. Azul Mar√≠timo Suave', en:'27. Soft Maritime Blue', colors_es:'Pantone 656 C, 657 C, 658 C, 659 C, 660 C, 661 C, 662 C, 7451 C, 7452 C, 7453 C', colors_en:'Pantone 656 C, 657 C, 658 C, 659 C, 660 C, 661 C, 662 C, 7451 C, 7452 C, 7453 C'},
    {id:'p28', es:'28. Olivo Viejo', en:'28. Old Olive', colors_es:'Pantone 7493 C, 7494 C, 7495 C, 7496 C, 7497 C, 7498 C, 450 C, 451 C, 452 C, 574 C', colors_en:'Pantone 7493 C, 7494 C, 7495 C, 7496 C, 7497 C, 7498 C, 450 C, 451 C, 452 C, 574 C'},
    {id:'p29', es:'29. Mostaza & Miel', en:'29. Mustard & Honey', colors_es:'Pantone 7751 C, 7752 C, 7753 C, 7754 C, 1245 C, 7555 C, 7550 C, 7407 C, 141 C, 7408 C', colors_en:'Pantone 7751 C, 7752 C, 7753 C, 7754 C, 1245 C, 7555 C, 7550 C, 7407 C, 141 C, 7408 C'},
    {id:'p30', es:'30. RGB Expandido', en:'30. Expanded RGB', colors_es:'Pantone 185 C, 1788 C, 300 C, 3005 C, 354 C, 347 C, Process Yellow C, 123 C, Process Cyan C, Process Magenta C', colors_en:'Pantone 185 C, 1788 C, 300 C, 3005 C, 354 C, 347 C, Process Yellow C, 123 C, Process Cyan C, Process Magenta C'}
  ];
  
  // --- OPTIONS DATA ARRAYS ---
  const AForma = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'circles',es:'C√≠rculos y Curvas',en:'Circles and Curves'},
    {id:'squares',es:'Cuadrados y Rect√°ngulos',en:'Squares and Rectangles'},
    {id:'triangles',es:'Tri√°ngulos y Formas Angulares',en:'Triangles and Angular Shapes'},
    {id:'lines',es:'Solo L√≠neas y Trazos',en:'Only Lines and Strokes'},
    {id:'organic',es:'Formas Org√°nicas/Biol√≥gicas',en:'Organic/Biological Shapes'},
    {id:'mix',es:'Mezcla de todas las formas',en:'Mix of all shapes'},
  ];
  const APatron = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'grid',es:'Patr√≥n de rejilla/Grid',en:'Grid pattern/Tiled'},
    {id:'concentric',es:'Patr√≥n conc√©ntrico',en:'Concentric pattern'},
    {id:'scattered',es:'Patr√≥n disperso/scattered',en:'Scattered pattern'},
    {id:'stacked',es:'Apilado/Stacked',en:'Stacked arrangement'},
    {id:'maze',es:'Laberinto/Maze-like',en:'Maze-like pattern'},
    {id:'geometric_tiling',es:'Mosaico geom√©trico',en:'Geometric tiling'},
  ];
  const ATamano = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'dots_to_large',es:'Desde puntos min√∫sculos a figuras grandes',en:'From tiny dots to large shapes'},
    {id:'varied_random',es:'Tama√±os variados y aleatorios',en:'Varied and random sizes'},
    {id:'gradual_scale',es:'Gradual, escalado (gradiente de tama√±o)',en:'Gradual, scaled (size gradient)'},
    {id:'tiny_dots',es:'Solo puntos min√∫sculos y dispersos',en:'Only tiny, scattered dots'},
    {id:'uniform',es:'Tama√±o uniforme',en:'Uniform size'},
  ];
  const ADisp = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'defined',es:'Orden definido/preciso',en:'Defined/precise order'},
    {id:'random',es:'Orden aleatorio/ca√≥tico',en:'Random/chaotic order'},
    {id:'clustered',es:'Agrupado/cluster',en:'Clustered arrangement'},
  ];
  const ABorde = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'sharp',es:'Bordes afilados/duros',en:'Sharp/hard edges'},
    {id:'soft',es:'Bordes suaves/difusos',en:'Soft/diffused edges'},
    {id:'outlined',es:'Con contorno negro/grueso',en:'With thick black outline'},
  ];
  const ADistor = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'wavy',es:'Ondulado/Wavy',en:'Wavy/undulating distortion'},
    {id:'melted',es:'Derretido/Diluido (Melted/Diluted)',en:'Melted/Diluted distortion'},
    {id:'pixelated',es:'Pixelado/Fragmentado',en:'Pixelated/Fragmented distortion'},
    {id:'glitch',es:'Glitch/Error digital',en:'Glitch/digital error effect'}
  ];
  const CDistrib = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'even',es:'Distribuci√≥n uniforme',en:'Even distribution of colors'},
    {id:'random',es:'Distribuci√≥n aleatoria',en:'Random distribution of colors'},
    {id:'gradient',es:'Gradiente/Transici√≥n',en:'Color gradient/transition'},
  ];
  const CLum = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'bright',es:'Brillante y alto contraste',en:'Bright and high contrast'},
    {id:'muted',es:'Apagado y bajo contraste',en:'Muted and low contrast'},
    {id:'dark_moody',es:'Oscuro y moody',en:'Dark and moody atmosphere'},
  ];
  const EEstilo = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'geometric',es:'Abstracci√≥n Geom√©trica',en:'Geometric Abstraction (Neoplasticism)'},
    {id:'lyrical',es:'Abstracci√≥n L√≠rica',en:'Lyrical Abstraction (Fluid gesture)'},
    {id:'expressionism',es:'Expresionismo Abstracto',en:'Abstract Expressionism (Action Painting)'},
    {id:'minimalism',es:'Minimalismo Reductivo',en:'Reductive Minimalism'},
    {id:'opart',es:'Op Art / Ilusi√≥n √≥ptica',en:'Op Art / Optical illusion'},
    {id:'suprematism',es:'Suprematismo (Mal√©vich)',en:'Suprematism (Malevich)'},
    {id:'constructivism',es:'Constructivismo',en:'Constructivism'},
  ];
  const ETecnica = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'acrylic',es:'Pintura Acr√≠lica',en:'Acrylic paint'},
    {id:'oil',es:'√ìleo/Oil paint',en:'Oil paint'},
    {id:'watercolor',es:'Acuarela/Watercolor',en:'Watercolor painting'},
    {id:'digital_vector',es:'Vector Digital / Ilustraci√≥n Plana',en:'Digital Vector / Flat Illustration'},
    {id:'mixed_media',es:'Medios Mixtos/Collage',en:'Mixed Media / Collage'},
    {id:'ink_splatter',es:'Salpicadura de Tinta/Ink Splatter',en:'Ink Splatter'},
  ];
  const EArtista = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'mondrian',es:'Piet Mondrian',en:'Piet Mondrian'},
    {id:'kandinsky',es:'Wassily Kandinsky',en:'Wassily Kandinsky'},
    {id:'pollock',es:'Jackson Pollock',en:'Jackson Pollock'},
    {id:'rothko',es:'Mark Rothko',en:'Mark Rothko'},
    {id:'klee',es:'Paul Klee',en:'Paul Klee'},
    {id:'albers',es:'Josef Albers',en:'Josef Albers'},
    {id:'lichtenstein',es:'Roy Lichtenstein',en:'Roy Lichtenstein'},
  ];
  const EOrigen = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'organic_nature',es:'Origen Org√°nico/Naturaleza',en:'Organic/Nature-inspired'},
    {id:'architecture',es:'Arquitectura/Dise√±o Industrial',en:'Architecture/Industrial Design'},
    {id:'musical_harmony',es:'Armon√≠a Musical/Sonora',en:'Musical/Sound Harmony'},
    {id:'mathematics',es:'Principios Matem√°ticos',en:'Mathematical Principles'},
    {id:'spiritual_zen',es:'Espiritual/Zen',en:'Spiritual/Zen principles'},
  ];
  const FComp = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'symmetrical',es:'Composici√≥n sim√©trica',en:'Symmetrical composition'},
    {id:'asymmetrical',es:'Composici√≥n asim√©trica',en:'Asymmetrical composition'},
    {id:'dynamic_diagonal',es:'Din√°mica con diagonales',en:'Dynamic diagonal composition'},
    {id:'vertical_focus',es:'Foco en la verticalidad',en:'Vertical focus composition'},
    {id:'horizontal_calm',es:'Calma horizontal',en:'Horizontal calm composition'},
    {id:'central_vortex',es:'V√≥rtice central',en:'Central vortex composition'},
  ];
  const FTextura = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'rough_canvas',es:'Lienzo grueso/texturizado',en:'Rough/textured canvas'},
    {id:'smooth_panel',es:'Panel liso/Smooth panel',en:'Smooth panel/surface'},
    {id:'paper_aquarelle',es:'Papel de acuarela',en:'Aquarelle paper'},
    {id:'high_gloss_resin',es:'Resina de alto brillo',en:'High gloss resin'},
  ];
  const FAcabado = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'glossy',es:'Acabado brillante/glossy',en:'Glossy/high-shine finish'},
    {id:'semi_gloss',es:'Acabado semibrillante',en:'Semi-gloss finish'},
    {id:'matte',es:'Acabado mate',en:'Matte/non-reflective finish'},
    {id:'vintage',es:'Vintage/con p√°tina',en:'Vintage/patina finish'},
  ];
  const FRes = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'8k',es:'Detalle extremo (8K)',en:'Extreme detail (8K)'},
    {id:'4k',es:'Alta resoluci√≥n (4K)',en:'High resolution (4K)'},
    {id:'hd',es:'Alta calidad (HD)',en:'High quality (HD)'},
  ];
  const ILum = [
    {id:'none',es:'Ninguno/Al Azar',en:'None/Random'},
    {id:'frontal',es:'Frontal/Dura',en:'Frontal/Hard lighting'},
    {id:'lateral',es:'Lateral/Sombra Larga',en:'Lateral lighting/Long shadow'},
    {id:'superior',es:'Cenital/Superior',en:'Overhead/Top lighting'},
    {id:'inferior',es:'Contrapicado/Inferior',en:'Underlight/Bottom lighting'},
    {id:'angulada',es:'Angulada (usar Angulo ¬∫)',en:'Angled lighting (use Angle ¬∫)'},
    {id:'backlight',es:'Contraluz/Silueta',en:'Backlighting/Silhouette'}
  ];
  
  // --- UTILITY CONSTANTS ---
  const LIGHTING_DEFAULTS = { 
    'frontal': 45, 'lateral': 90, 'superior': 0, 'inferior': 180, 'backlight': 180, 'angulada': 45, 'none': 45 
  };
  
  const CONTROLS_MAP = [
    { id: 'aForma', options: AForma },
    { id: 'aPatron', options: APatron },
    { id: 'aTamano', options: ATamano },
    { id: 'aDisp', options: ADisp },
    { id: 'aBorde', options: ABorde },
    { id: 'aDistor', options: ADistor },
    { id: 'aCount', type: 'number', min: 1, max: 10, default: 5 },
    { id: 'cPaleta', options: CPaleta },
    { id: 'cDistrib', options: CDistrib },
    { id: 'cLum', options: CLum },
    { id: 'eEstilo', options: EEstilo },
    { id: 'eTecnica', options: ETecnica },
    { id: 'eArtista', options: EArtista },
    { id: 'eOrigen', options: EOrigen },
    { id: 'fComp', options: FComp },
    { id: 'fTextura', options: FTextura },
    { id: 'fAcabado', options: FAcabado },
    { id: 'fRes', options: FRes },
    { id: 'iLum', options: ILum },
    { id: 'iAngulo', type: 'number', min: 0, max: 360, default: 45 }
  ];

  // --- HEX MAPPING FOR PREVIEW (10 Colors per palette) ---
  const PALETTE_COLORS = {
    'none': ['#444','#555','#666','#777','#888','#999','#AAA','#BBB','#CCC','#DDD'],
    'p1': ['#DA1884','#9F0052','#1F2A44','#005587','#44B8AC','#84BD00','#FFC72C','#FA4616','#E03C31','#101820'], // Cyber
    'p2': ['#FCA054','#F4C430','#F5E6CC','#FFD100','#FA8072','#F77F5B','#92C1E9','#0073CF','#008B95','#1D332D'], // Alba
    'p3': ['#44D62C','#FF007C','#FF0099','#0099FF','#FFD700','#FF4F00','#D50032','#004C97','#009639','#232323'], // Neon
    'p4': ['#5B6770','#4C5B49','#223828','#4E5B31','#7B7C46','#4B5F36','#8C4729','#4C3024','#6F685D','#474B39'], // Forest
    'p5': ['#70C6A9','#FFA6C9','#F79585','#F6E98F','#83A9F5','#A7D1FF','#C397B8','#A597C3','#88D8C9','#B0B0B0'], // Retro
    'p6': ['#C24935','#B33939','#6A382A','#4C2B2A','#321E19','#845D4B','#E46F25','#8D3F37','#A36B5E','#201B1D'], // Volcanic
    'p7': ['#CFD3D6','#BDC2C7','#A6AEB3','#83868C','#4D9DE0','#1F5F8B','#1F587E','#A1A4A7','#666C70','#101820'], // Polar
    'p8': ['#00A78F','#0099A0','#007B8C','#6E519B','#9540C6','#B130E0','#DB6EB1','#98B648','#00B2A9','#342C44'], // Aurora
    'p9': ['#D2B785','#DCD0C0','#B6AE9C','#998E7A','#8C7862','#4C4C4C','#3E443F','#444C6A','#8B2332','#101820'], // Baroque
    'p10': ['#00A99D','#00BFB2','#00C4FF','#00808F','#F78A62','#FFA388','#FFD100','#7EC845','#4AA52B','#1B2A49'], // Caribe
    'p11': ['#EBEBEB','#CFCFCF','#B0B0B0','#969696','#808080','#696969','#555555','#444444','#363636','#101820'], // Monocromo
    'p12': ['#EA594D','#D50032','#FF4F00','#D9004C','#C8102E','#D03433','#E23A3A','#E64C4C','#E85C5C','#841F2B'], // Fuego
    'p13': ['#A7D1FF','#83A9F5','#5580D4','#004C97','#00407C','#1D304B','#1F5F8B','#0073CF','#006BB9','#1B2A49'], // Oce√°nica
    'p14': ['#88D169','#7EC845','#5BBD2E','#4AA52B','#009639','#007849','#009444','#84BD00','#6AB023','#2E4A28'], // Selva
    'p15': ['#F6E98F','#FFF000','#FFD100','#FFC72C','#FFCD00','#FFD700','#FFD700','#FCD133','#FDBB30','#FFD100'], // Solar
    'p16': ['#995EC2','#A965D1','#BC73D6','#D082DB','#E03C31','#952792','#4F274F','#B65BBA','#802BB3','#4D285B'], // Violeta
    'p17': ['#F5E6CC','#E2CCB5','#D6BCA8','#C2AF9A','#A99D8D','#A3978A','#E9CC7E','#E2C467','#D6BCA8','#998E7A'], // Arena
    'p18': ['#1F5F8B','#006B97','#004489','#1F2A44','#004C97','#005587','#447799','#336699','#005587','#1B2A49'], // Blueprint
    'p19': ['#70C6A9','#63B89E','#44B8AC','#32AC9E','#20A290','#109282','#3A948C','#5A9A95','#7BB2AF','#637877'], // Menta Industrial
    'p20': ['#F3A712','#E46F25','#FFA300','#FF9900','#FF4F00','#FF3300','#FA4616','#E03C31','#D50032','#F78A62'], // C√≠trico
    'p21': ['#E9CC7E','#E2C467','#D6BCA8','#C3AA8E','#B29B7F','#A36B5E','#8C4729','#4C2B2A','#8D3F37','#C24935'], // Arcilla
    'p22': ['#A1A4A7','#94979A','#83868C','#666C70','#555B60','#4C5357','#363B40','#444444','#55585B','#101820'], // Metal
    'p23': ['#FFB6C1','#FFA6C9','#F79585','#FFC72C','#F5E6CC','#FFD100','#F77F5B','#C397B8','#A597C3','#88D8C9'], // Sorbet
    'p24': ['#FCA054','#F77F5B','#F05B4D','#E23A3A','#D50032','#C8102E','#FA8072','#FFA388','#FFB6C1','#F6E98F'], // Vintage Sunset
    'p25': ['#A7D1FF','#83A9F5','#5580D4','#4D9DE0','#1F5F8B','#004C97','#0073CF','#00407C','#1B2A49','#1F2A44'], // Fr√≠o Tecnol√≥gico
    'p26': ['#B2C3C9','#A0B3BB','#88A0A8','#6F8890','#526F77','#3E5961','#2C4348','#1D3035','#102025','#000000'], // Tormenta
    'p27': ['#BDC2C7','#A6AEB3','#919A9F','#7C868B','#667377','#526064','#404C50','#B2B9BB','#A0A7AA','#8F9699'], // Mar√≠timo Suave
    'p28': ['#E9E3C5','#DCD0B1','#CFC09E','#BDB08B','#A99D8D','#978B7A','#A99D8D','#978B7A','#847868','#706657'], // Olivo
    'p29': ['#D2B785','#DCD0B1','#E9CC7E','#F3A712','#FFC72C','#FFD700','#FFD100','#FCD133','#FDBB30','#FFD700'], // Mostaza
    'p30': ['#FF4F00','#D50032','#004C97','#4D9DE0','#009639','#007849','#FFD700','#FFC72C','#00C4FF','#FF007C'], // RGB Expandido
  };

  // --- APP CORE CLASS ---
  const byId = id => document.getElementById(id);
  const pick = arr => arr[Math.floor(Math.random() * arr.length)];
  
  function showNotification(message, type = 'success') {
      const notification = byId('copyNotification');
      if (!notification) return;
      
      notification.textContent = message;
      notification.style.display = 'block';
      
      // Update background based on type
      notification.style.backgroundColor = type === 'success' ? 'var(--success)' : (type === 'warning' ? 'var(--warning)' : 'var(--danger)');
      
      clearTimeout(notification.timer);
      notification.timer = setTimeout(() => {
          notification.style.display = 'none';
      }, 2000);
  }

  class AbstractPromptGenerator {
    constructor() {
      this.STATE = {};
      this.lang = 'en'; // Default language: English
      this.currentPromptEN = "Initializing...";
      this.currentPromptES = "Inicializando...";
      this.favorites = this.loadFavorites();

      this.initDefaultState();
      this.setupEventListeners();
      this.populateUI();
      this.setLanguage(localStorage.getItem('lang') || 'en'); // Use saved language
      this.generatePromptsAndDisplay();
    }
    
    // --- LANGUAGE HANDLER ---
    setLanguage(newLang) {
      this.lang = newLang;
      localStorage.setItem('lang', newLang);
      byId('langToggle').textContent = UI_STRINGS.langBtn[newLang];
      this.updateUI();
      this.updateStrings();
      this.renderFavorites(); // Re-render favorites for language change
    }

    toggleLanguage() {
      const newLang = this.lang === 'en' ? 'es' : 'en';
      this.setLanguage(newLang);
    }
    
    updateStrings() {
      document.querySelectorAll('[data-key]').forEach(el => {
        const key = el.getAttribute('data-key');
        if (UI_STRINGS[key]) {
          el.textContent = UI_STRINGS[key][this.lang];
        }
      });
      const outLabel = byId('outLabel');
      if(outLabel) outLabel.textContent = UI_STRINGS.outLabel[this.lang];
    }

    // --- STATE MANAGEMENT ---
    initDefaultState() {
      CONTROLS_MAP.forEach(c => {
        if (c.options && c.options.length > 0) {
          this.STATE[c.id] = c.options[0].id;
        } else if (c.type === 'number') {
          this.STATE[c.id] = c.default || 1;
        }
      });
      // Set meaningful defaults
      this.STATE['aForma'] = 'circles';
      this.STATE['cPaleta'] = 'p1'; // Default to Cyber Sunset
      this.STATE['eArtista'] = 'mondrian';
    }

    resetState() {
      this.initDefaultState();
      this.updateUI();
      this.generatePromptsAndDisplay();
      this.clearImageUpload();
      showNotification(this.lang === 'en' ? 'üßπ Config Reset' : 'üßπ Configuraci√≥n reseteada');
    }

    randomizeState() {
      CONTROLS_MAP.forEach(c => {
        if (c.options && c.options.length > 0) {
          this.STATE[c.id] = pick(c.options).id;
        } else if (c.type === 'number') {
          const min = c.min || 1;
          const max = c.max || 10;
          this.STATE[c.id] = Math.floor(Math.random() * (max - min + 1)) + min;
        }
      });
      // Ensure angle matches illumination type for better prompts
      this.STATE.iAngulo = LIGHTING_DEFAULTS[this.STATE.iLum] || LIGHTING_DEFAULTS['none'];
      
      this.updateUI();
      this.generatePromptsAndDisplay();
      this.clearImageUpload();
      showNotification(this.lang === 'en' ? 'üé≤ Randomized!' : 'üé≤ ¬°Aleatorio!');
    }

    // --- UI MANIPULATION ---
    populateSelect(selectId, data) {
      const select = byId(selectId);
      if (!select) return;
      select.innerHTML = '';
      data.forEach(item => {
        const option = document.createElement('option');
        option.value = item.id;
        option.textContent = item[this.lang];
        select.appendChild(option);
      });
    }

    populateUI() {
      CONTROLS_MAP.forEach(c => {
        if (c.options) {
          this.populateSelect(c.id, c.options);
        }
      });
      this.updateUI();
      this.updatePalettePreview();
    }

    updateUI() {
      CONTROLS_MAP.forEach(c => {
        const element = byId(c.id);
        if (element) {
          element.value = this.STATE[c.id];
        }
      });
      this.updateFavoriteButtonState();
      this.updatePalettePreview();
    }

    updatePalettePreview() {
      const paletaId = this.STATE.cPaleta;
      const hexColors = PALETTE_COLORS[paletaId] || PALETTE_COLORS['none'];
      const previewContainer = byId('palettePreview');
      if (!previewContainer) return;
      
      previewContainer.innerHTML = '';
      hexColors.forEach(color => {
          const swatch = document.createElement('div');
          swatch.className = 'color-swatch';
          swatch.style.backgroundColor = color;
          previewContainer.appendChild(swatch);
      });
    }

    // --- PROMPT GENERATION LOGIC ---
    getTerm(id, array, lang) {
      const item = array.find(i => i.id === this.STATE[id]);
      return item ? item[lang] : '';
    }

    generatePrompts() {
      const S = this.STATE;
      
      // Get Pantone Color Descriptions
      const paleta = CPaleta.find(p => p.id === S.cPaleta);
      const colorDescEN = paleta ? paleta.colors_en : '';
      const colorDescES = paleta ? paleta.colors_es : '';

      // --- ENGLISH PROMPT CONSTRUCTION ---
      const en = this.constructPrompt('en', S, colorDescEN);
      // --- SPANISH PROMPT CONSTRUCTION ---
      const es = this.constructPrompt('es', S, colorDescES);

      return { en, es, state: JSON.stringify(S) };
    }

    constructPrompt(l, S, colorDesc) {
      const basePrompt = l === 'es' ? "Una pintura abstracta en 2D" : "A 2D abstract painting";
      const geoParts = [];
      const colorParts = [];
      const styleParts = [];
      const finishParts = [];
      const illumParts = [];

      // 1. Geometry
      if (S.aForma !== 'none') {
        let geo = this.getTerm('aForma', AForma, l);
        const aCount = S.aCount;
        if(l === 'es') {
          geo = (aCount > 5 ? 'alta densidad de ' : 'baja densidad de ') + geo;
        } else {
          geo = (aCount > 5 ? 'High density of ' : 'Low density of ') + geo;
        }
        geoParts.push(geo);
      }
      if (S.aPatron !== 'none') {
        geoParts.push(l === 'es' ? `en un patr√≥n de ${this.getTerm('aPatron', APatron, l)}` : `in a ${this.getTerm('aPatron', APatron, l)} pattern`);
      }
      if (S.aTamano !== 'none') {
        geoParts.push(l === 'es' ? `con ${this.getTerm('aTamano', ATamano, l)}` : `with ${this.getTerm('aTamano', ATamano, l)}`);
      }
      if (S.aDisp !== 'none') {
        geoParts.push(l === 'es' ? `y disposici√≥n ${this.getTerm('aDisp', ADisp, l)}` : `and ${this.getTerm('aDisp', ADisp, l)} arrangement`);
      }
      if (S.aBorde !== 'none') {
        geoParts.push(this.getTerm('aBorde', ABorde, l));
      }
      if (S.aDistor !== 'none') {
        geoParts.push(l === 'es' ? `con efecto de ${this.getTerm('aDistor', ADistor, l)}` : `with ${this.getTerm('aDistor', ADistor, l)} effect`);
      }

      let geo_phrase = geoParts.length > 0 ? geoParts.join(', ') : '';
      if (geo_phrase) {
        geo_phrase = (l === 'es' ? 'Geometr√≠a: ' : 'Geometry: ') + geo_phrase;
      }

      // 2. Colors (Pantone Logic)
      if (S.cPaleta !== 'none') {
        const paletaName = this.getTerm('cPaleta', CPaleta, l);
        colorParts.push(l === 'es' ? `Paleta de color ${paletaName}` : `Color palette ${paletaName}`);
      }
      if (S.cDistrib !== 'none') {
        colorParts.push(this.getTerm('cDistrib', CDistrib, l));
      }
      if (S.cLum !== 'none') {
        colorParts.push(this.getTerm('cLum', CLum, l));
      }
      
      let color_phrase = colorParts.length > 0 ? colorParts.join(', ') : '';
      if (color_phrase) {
        color_phrase = (l === 'es' ? 'Colores: ' : 'Colors: ') + color_phrase;
      }

      // 3. Style
      if (S.eEstilo !== 'none') {
        styleParts.push(l === 'es' ? `Estilo de ${this.getTerm('eEstilo', EEstilo, l)}` : `${this.getTerm('eEstilo', EEstilo, l)} style`);
      }
      if (S.eTecnica !== 'none') {
        styleParts.push(l === 'es' ? `T√©cnica de ${this.getTerm('eTecnica', ETecnica, l)}` : `${this.getTerm('eTecnica', ETecnica, l)} technique`);
      }
      if (S.eArtista !== 'none') {
        styleParts.push(l === 'es' ? `Inspirado en ${this.getTerm('eArtista', EArtista, l)}` : `Inspired by ${this.getTerm('eArtista', EArtista, l)}`);
      }
      if (S.eOrigen !== 'none') {
        styleParts.push(l === 'es' ? `De ${this.getTerm('eOrigen', EOrigen, l)}` : `${this.getTerm('eOrigen', EOrigen, l)} conception`);
      }
      let style_phrase = styleParts.length > 0 ? styleParts.join('. ') : '';

      // 4. Finish
      if (S.fComp !== 'none') {
        finishParts.push(l === 'es' ? `Composici√≥n: ${this.getTerm('fComp', FComp, l)}` : `Composition: ${this.getTerm('fComp', FComp, l)}`);
      }
      if (S.fTextura !== 'none') {
        finishParts.push(l === 'es' ? `Textura de ${this.getTerm('fTextura', FTextura, l)}` : `${this.getTerm('fTextura', FTextura, l)} texture`);
      }
      if (S.fAcabado !== 'none') {
        finishParts.push(l === 'es' ? `Acabado ${this.getTerm('fAcabado', FAcabado, l)}` : `${this.getTerm('fAcabado', FAcabado, l)} finish`);
      }
      if (S.fRes !== 'none') {
        finishParts.push(this.getTerm('fRes', FRes, l));
      }
      let finish_phrase = finishParts.length > 0 ? finishParts.join(', ') : '';
      
      // 5. Lighting
      if (S.iLum !== 'none') {
        const iluminacion = this.getTerm('iLum', ILum, l);
        let illum_detail;
        if (S.iLum === 'angulada' || S.iLum !== 'frontal' && S.iLum !== 'superior' && S.iLum !== 'inferior' && S.iLum !== 'backlight') {
          const angulo = S.iAngulo;
          illum_detail = l === 'es' ? `angulada a ${angulo} grados` : `angled at ${angulo} degrees`;
        } else {
          illum_detail = iluminacion;
        }
        illumParts.push(l === 'es' ? `Iluminaci√≥n ${illum_detail}` : `${illum_detail} lighting`);
      }
      let illum_phrase = illumParts.length > 0 ? illumParts.join(', ') : '';

      // Combine parts
      const sections = [geo_phrase, color_phrase, style_phrase, finish_phrase, illum_phrase].filter(p => p);
      let finalPrompt = basePrompt;

      if (sections.length > 0) {
        finalPrompt += l === 'es' ? ', con los siguientes elementos: ' : ', with the following elements: ';
        finalPrompt += sections.join(' | ');
      }
      
      // Add the list of Pantone colors at the end
      if (colorDesc) {
        finalPrompt += (l === 'es' ? `. Colores Pantone espec√≠ficos: ${colorDesc}` : `. Specific Pantone Colors: ${colorDesc}`);
      }

      // Add common fixed tags
      finalPrompt += l === 'es' ? '. --ar 16:9' : '. --ar 16:9';

      return finalPrompt;
    }

    generatePromptsAndDisplay() {
      const prompts = this.generatePrompts();
      this.currentPromptEN = prompts.en;
      this.currentPromptES = prompts.es;
      const outMain = byId('outMain');
      if (outMain) {
        outMain.textContent = this.lang === 'en' ? this.currentPromptEN : this.currentPromptES;
      }
      this.updateFavoriteButtonState();
    }
    
    // --- FAVORITES LOGIC ---
    loadFavorites() {
      try {
        const json = localStorage.getItem('abstractPrompts');
        return json ? JSON.parse(json) : [];
      } catch (e) {
        return [];
      }
    }
    
    saveFavorites() {
      try {
        localStorage.setItem('abstractPrompts', JSON.stringify(this.favorites));
        this.renderFavorites();
      } catch (e) {
        showNotification(this.lang === 'en' ? "LocalStorage Error" : "Error en LocalStorage", 'danger');
      }
    }

    addFavorite(image = null) {
      const prompts = this.generatePrompts();
      const newFav = {
        id: Date.now(),
        state: prompts.state,
        promptEN: prompts.en,
        promptES: prompts.es,
        timestamp: new Date().toLocaleString('es-ES'),
        image: image || null 
      };

      if (this.favorites.some(fav => fav.promptEN === prompts.en && !fav.image)) {
        showNotification(this.lang === 'en' ? "‚ö†Ô∏è Already saved." : "‚ö†Ô∏è Ya guardado.", 'warning');
        return;
      }
      
      this.favorites.unshift(newFav);
      this.saveFavorites();
      this.updateFavoriteButtonState();
      showNotification(this.lang === 'en' ? "‚úÖ Prompt Saved" : "‚úÖ Prompt Guardado");
    }
    
    loadPrompt(id) {
      const fav = this.favorites.find(f => f.id === id);
      if (!fav) return;
      try {
        this.STATE = JSON.parse(fav.state);
        this.updateUI();
        this.generatePromptsAndDisplay();
        showNotification(this.lang === 'en' ? "‚ú® Loaded" : "‚ú® Cargado");
        this.clearImageUpload();
      } catch (e) {
        console.error(e);
      }
    }

    deletePrompt(id) {
      this.favorites = this.favorites.filter(f => f.id !== id);
      this.saveFavorites();
      this.updateFavoriteButtonState();
    }

    renderFavorites() {
      const list = byId('favoritesList');
      const countEl = byId('favCount');
      if (!list || !countEl) return;

      countEl.textContent = `(${this.favorites.length})`;
      list.innerHTML = '';
      
      if (this.favorites.length === 0) {
        list.innerHTML = `<p class="no-favorites">${UI_STRINGS.noFav[this.lang]}</p>`;
        return;
      }

      this.favorites.forEach(p => {
        const item = document.createElement('div');
        item.className = 'fav-item';
        item.dataset.id = p.id;

        const imageHtml = p.image ? `<img src="${p.image}" class="fav-item-image" alt="Image">` : `<div class="fav-item-image" style="background:#555; display:flex; align-items:center; justify-content:center; font-size:1.5rem;">‚≠ê</div>`;
        
        const promptText = this.lang === 'en' ? p.promptEN : p.promptES;

        item.innerHTML = `
          ${imageHtml}
          <div class="fav-item-content">
              <p class="prompt-text">${promptText}</p>
              <p>${p.timestamp}</p>
              <div class="fav-actions">
                  <button class="secondary load-fav" data-id="${p.id}">
                      ${this.lang === 'en' ? 'Load' : 'Cargar'}
                  </button>
                  <button class="delete-fav" data-id="${p.id}">
                      ${this.lang === 'en' ? 'Delete' : 'Borrar'}
                  </button>
              </div>
          </div>
        `;
        list.appendChild(item);
      });
      
      // Add event listeners dynamically
      list.querySelectorAll('.load-fav').forEach(btn => {
        btn.addEventListener('click', (e) => this.loadPrompt(parseFloat(e.target.dataset.id)));
      });
      list.querySelectorAll('.delete-fav').forEach(btn => {
        btn.addEventListener('click', (e) => {
          if (confirm(this.lang === 'en' ? "Are you sure you want to delete this prompt?" : "¬øEst√° seguro que desea borrar este prompt?")) {
            this.deletePrompt(parseFloat(e.target.dataset.id));
          }
        });
      });
    }
    
    updateFavoriteButtonState() {
      const prompts = this.generatePrompts();
      const isSaved = this.favorites.some(fav => fav.promptEN === prompts.en && !fav.image);
      const btnFav = byId('btnFav');
      const btnSaveWithImage = byId('btnSaveWithImage');
      
      if (btnFav) {
        btnFav.classList.toggle('active', isSaved);
        byId('favIcon').textContent = isSaved ? '‚úÖ' : '‚≠ê';
      }
      
      if (btnSaveWithImage) {
          btnSaveWithImage.style.display = byId('imagePreview').style.display === 'block' ? 'block' : 'none';
      }
    }
    
    // --- IMAGE UPLOAD LOGIC ---
    clearImageUpload() {
        const preview = byId('imagePreview');
        const fileInput = byId('imageUpload');
        const btnSaveWithImage = byId('btnSaveWithImage');
        
        if (preview) {
            preview.style.display = 'none';
            preview.src = '';
        }
        if (fileInput) fileInput.value = '';
        if (btnSaveWithImage) btnSaveWithImage.style.display = 'none';
        
        byId('dropZone').querySelector('span').textContent = UI_STRINGS.dropText[this.lang];
    }
    
    handleFileSelect(file) {
        if (!file) return;

        if (file.size > 5 * 1024 * 1024) { // 5MB limit
            showNotification(this.lang === 'en' ? "Image is too large (max 5MB)" : "La imagen es demasiado grande (m√°x 5MB)", 'danger');
            this.clearImageUpload();
            return;
        }

        const reader = new FileReader();
        reader.onload = (e) => {
            const preview = byId('imagePreview');
            if (preview) {
                preview.src = e.target.result;
                preview.style.display = 'block';
                byId('btnSaveWithImage').style.display = 'block';
                byId('dropZone').querySelector('span').textContent = this.lang === 'en' ? "Image ready to save." : "Imagen lista para guardar.";
            }
        };
        reader.readAsDataURL(file);
    }
    
    saveWithImage() {
        const imageDataURL = byId('imagePreview').src;
        if (imageDataURL) {
            this.addFavorite(imageDataURL);
            this.clearImageUpload();
        } else {
             showNotification(this.lang === 'en' ? "No image uploaded yet." : "No se ha subido ninguna imagen a√∫n.", 'warning');
        }
    }

    // --- EVENT LISTENERS ---
    setupEventListeners() {
      // Input/Select listeners
      CONTROLS_MAP.forEach(c => {
        const element = byId(c.id);
        if (!element) return;
        
        if (c.options) {
          element.addEventListener('change', (e) => {
            this.STATE[c.id] = e.target.value;
            // Handle iAngulo default change when iLum changes
            if (c.id === 'iLum') {
              const newLumId = e.target.value;
              const defaultAngle = LIGHTING_DEFAULTS[newLumId] || LIGHTING_DEFAULTS['angulada'];
              this.STATE.iAngulo = defaultAngle;
              const iAnguloInput = byId('iAngulo');
              if (iAnguloInput) iAnguloInput.value = defaultAngle;
            }
            this.generatePromptsAndDisplay();
            this.clearImageUpload();
            if(c.id === 'cPaleta') this.updatePalettePreview();
          });
        }
        if (c.type === 'number') {
          element.addEventListener('input', (e) => {
            this.STATE[c.id] = parseFloat(e.target.value);
            this.generatePromptsAndDisplay();
            this.clearImageUpload();
          });
        }
      });

      // Button listeners
      byId('langToggle').addEventListener('click', () => this.toggleLanguage());
      byId('btnRand').addEventListener('click', () => this.randomizeState());
      byId('btnGen').addEventListener('click', () => this.generatePromptsAndDisplay());
      byId('btnReset').addEventListener('click', () => this.resetState());
      byId('btnFav').addEventListener('click', () => this.addFavorite());
      byId('btnSaveWithImage').addEventListener('click', () => this.saveWithImage());
      
      const outMain = byId('outMain');
      if(outMain) {
          outMain.addEventListener('click', (e) => {
              this.copy(this.currentPromptEN, UI_STRINGS.copyMsg[this.lang]);
          });
      }
      
      // Dropzone/File Upload listeners
      const dropZone = byId('dropZone');
      const fileInput = byId('imageUpload');
      if (dropZone && fileInput) {
          dropZone.addEventListener('click', () => fileInput.click());
          fileInput.addEventListener('change', (e) => this.handleFileSelect(e.target.files[0]));
          dropZone.addEventListener('dragover', (e) => { e.preventDefault(); dropZone.classList.add('dragover'); });
          dropZone.addEventListener('dragleave', (e) => { e.preventDefault(); dropZone.classList.remove('dragover'); });
          dropZone.addEventListener('drop', (e) => {
              e.preventDefault(); dropZone.classList.remove('dragover');
              if (e.dataTransfer.files && e.dataTransfer.files[0]) this.handleFileSelect(e.dataTransfer.files[0]);
          });
      }
    }

    copy(text, msg) {
      navigator.clipboard.writeText(text);
      showNotification(msg);
    }
  }

  // Initialize the app
  document.addEventListener('DOMContentLoaded', () => {
    window.app = new AbstractPromptGenerator();
  });
</script>
</body>
</html>